<!DOCTYPE html>
<html>
<head>
    <title>WebSocket Query</title>
</head>
<body>
    <h1>WebSocket Query</h1>
    <button onclick="sendQuery()">Send Query</button>
    <button onclick="clearResults()">Clear</button>
    <button onclick="addData()">Add Data</button>
    <button onclick="updateData()">Update Data</button>
    <button onclick="deleteData()">Delete Data</button>
    <ul id="results"></ul>

    <script>
        const socket = new WebSocket('ws://118.150.125.153:8765');

        // 當接收到訊息時更新網頁內容
        socket.onmessage = function(event) {
            try {
                const data = event.data;
                const resultsList = document.getElementById('results');
                resultsList.innerHTML = data; // 清空原本的資料

                // 顯示新的資料
                
            } catch (error) {
                console.error("Error parsing JSON:", error);
            }
        };

        // 點擊按鈕時發送訊息給伺服器
        function clearResults() {
            console.log("ClearData");
            const resultsList = document.getElementById('results');
            resultsList.innerHTML = ' ';
        };

        // 點擊按鈕時發送訊息給伺服器
        function sendQuery() {
            console.log("SendQuery");
            socket.send('query');
        }
    </script>
</body>
</html>
